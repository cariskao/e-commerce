(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d53c4f8"],{1799:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next","page-count":t.fullValue.total_pages},on:{"current-change":t.changePage},model:{value:t.fullValue,callback:function(e){t.fullValue=e},expression:"fullValue"}})],1)},o=[],i=(a("cadf"),a("551c"),a("097d"),a("2f62"),{components:{},props:{value:{type:Object,default:function(){return{}}},changePage:{type:Function,default:function(){return""}}},data:function(){return{}},computed:{fullValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleCurrentChange:function(t){this.$emit("pagination:onChangePage",t)}}}),s=i,c=a("2877"),r=Object(c["a"])(s,n,o,!1,null,null,null);r.options.__file="Pagination.vue";e["a"]=r.exports},4396:function(t,e,a){"use strict";var n=a("b8b7"),o=a.n(n);o.a},a79b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("div",{staticClass:"products-content"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"products-content__table-container"},[a("el-table",{staticClass:"products-content__table",attrs:{data:t.orders,"empty-text":"優惠卷尚未建立 >_<"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"建立時間",prop:"readableDate",sortable:""}}),a("el-table-column",{attrs:{label:"訂單金額",prop:"total",sortable:""}}),a("el-table-column",{attrs:{label:"付款狀態",prop:"readableStatus",sortable:""}}),a("el-table-column",{staticClass:"products__btn-container",scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("查看明細")])]}}])})],1)],1),a("Pagination",{staticClass:"products-content__pagination",attrs:{changePage:t.changePage},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],1)])},o=[],i=(a("ac6a"),a("cebc")),s=a("2f62"),c=a("888c"),r=a("3398"),l=a("1799"),u="".concat("https://vue-course-api.hexschool.io/","api/leochuang/admin/orders"),d=("".concat("https://vue-course-api.hexschool.io/","api/leochuang/admin/coupon/"),{components:{CreateProductForm:c["a"],Button:r["a"],Pagination:l["a"]},data:function(){return{orders:[],search:"",isLoading:!1,pagination:{},selectedItem:[]}},computed:{},watch:{},created:function(){var t=this;this.init(),this.$root.$on("Popup:refreshPageTableData",function(){t.getOrders()})},mounted:function(){},destroyed:function(){this.$root.$off("Popup:refreshPageTableData")},methods:Object(i["a"])({},Object(s["b"])(["setPopupComponent","setPopupData"]),{init:function(){this.getOrders()},getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.$http.get("".concat(u,"?page=").concat(e)).then(function(e){if(e.data.success){var a=e.data,n=a.orders,o=a.pagination;t.orders=t.deepCopy(n),t.orders.forEach(function(e){e.readableStatus=e.is_paid?"已付款":"尚未付款",e.readableDate=t.renderTimestamp(e.create_at)}),console.log(t.orders),t.pagination=o,t.isLoading=!1}else alert("請先登入，以利取得資料"),t.$router.push({name:"login"}),t.isLoading=!1})},handleEdit:function(t,e){this.setPopupData(e),this.showSidePopup("OrderForm")},showSidePopup:function(){this.setPopupComponent("OrderForm")},deleteMessage:function(){this.$message({showClose:!0,message:"已刪除",type:"success"})},changePage:function(t){this.getOrders(t)},handleSelectionChange:function(t){this.selectedItem=t},renderTimestamp:function(t){var e=new Date(1e3*t),a=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();return"".concat(a,"/").concat(n,"/").concat(o)}})}),p=d,f=(a("4396"),a("2877")),g=Object(f["a"])(p,n,o,!1,null,null,null);g.options.__file="Order.vue";e["default"]=g.exports},ac6a:function(t,e,a){for(var n=a("cadf"),o=a("0d58"),i=a("2aba"),s=a("7726"),c=a("32e9"),r=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),p=r.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(f),h=0;h<g.length;h++){var m,b=g[h],L=f[b],v=s[b],S=v&&v.prototype;if(S&&(S[u]||c(S,u,p),S[d]||c(S,d,b),r[b]=p,L))for(m in n)S[m]||i(S,m,n[m],!0)}},b8b7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5d53c4f8.a5cca82f.js.map